<!DOCTYPE html>
<html>
<head>
    <style>
        svg {
            display: block;
            margin: 0 auto;
        }

        .axis .domain {
            display: none;
        }

        .axis--x text {
            font-size: 15px;
            fill: #000;
        }

        .axis--x line {
            stroke: #000;
        }

        .axis--id .tick line {
            display: none;
        }

        .axis--id text {
            font-size: 15px;
            fill: #000;
        }

        .axis--id .tick:nth-child(odd) text {
            fill: #777;
        }

        .line {
            fill: none;
            stroke: #000;
        }

        .area {
            fill: #eee;
        }

        .id:nth-child(odd) .area {
            fill: #ddd;
        }
    </style>
</head>
<body>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
//#begin data
let csv_data = "id,time,bkg_median,comp_mean,comp_min\n\
ID-70,0,228,333.674,283\n\
ID-30,0,228,506.694,369\n\
ID-60,0,228,393.615,284\n\
ID-20,0,228,379.76,305\n\
ID-50,0,228,299.506,253\n\
ID-10,0,228,430.672,355\n\
ID-40,0,228,360.94,287\n\
ID-70,1,228,327,284\n\
ID-30,1,228,500.003,377\n\
ID-60,1,228,388.939,271\n\
ID-20,1,228,377.45,293\n\
ID-50,1,228,299.117,256\n\
ID-10,1,228,429.82,341\n\
ID-40,1,228,359.031,292\n\
ID-70,2,228,321.961,281\n\
ID-30,2,228,492.43,375\n\
ID-60,2,228,386.149,272\n\
ID-20,2,228,373.747,296\n\
ID-50,2,228,297.202,250\n\
ID-10,2,228,428.704,352\n\
ID-40,2,228,359.013,282\n\
ID-70,3,228,318.889,280\n\
ID-30,3,228,488.522,355\n\
ID-60,3,228,384.644,282\n\
ID-20,3,228,372.01,293\n\
ID-50,3,228,297.395,249\n\
ID-10,3,228,426.958,350\n\
ID-40,3,228,359.23,285\n\
ID-70,4,228,317.336,271\n\
ID-30,4,228,488.754,354\n\
ID-60,4,228,382.246,276\n\
ID-20,4,228,372.225,299\n\
ID-50,4,228,297.11,252\n\
ID-10,4,228,426.22,360\n\
ID-40,4,228,357.585,286\n\
ID-70,5,228,316.561,277\n\
ID-30,5,228,483.2,356\n\
ID-60,5,228,381.999,270\n\
ID-20,5,228,370.058,289\n\
ID-50,5,228,295.696,252\n\
ID-10,5,228,422.342,358\n\
ID-40,5,228,356.201,286\n\
ID-70,6,228,316.589,271\n\
ID-30,6,228,483.317,344\n\
ID-60,6,228,383.172,282\n\
ID-20,6,228,370.075,291\n\
ID-50,6,228,296.67,255\n\
ID-10,6,228,423.253,358\n\
ID-40,6,228,356.731,292\n\
ID-70,7,228,317.863,281\n\
ID-30,7,228,481.674,358\n\
ID-60,7,228,384.032,272\n\
ID-20,7,228,370.522,300\n\
ID-50,7,228,296.453,253\n\
ID-10,7,228,421.726,341\n\
ID-40,7,228,356.994,283\n\
ID-70,8,228,317.457,276\n\
ID-30,8,228,480.981,345\n\
ID-60,8,228,383.708,281\n\
ID-20,8,228,370.066,302\n\
ID-50,8,228,296.482,256\n\
ID-10,8,228,422.653,343\n\
ID-40,8,228,357.873,290\n\
ID-70,9,228,315.917,266\n\
ID-30,9,228,481.773,355\n\
ID-60,9,228,382.79,272\n\
ID-20,9,228,369.404,290\n\
ID-50,9,228,295.178,253\n\
ID-10,9,228,422.276,355\n\
ID-40,9,228,356.3,288\n\
ID-70,10,228,316.742,275\n\
ID-30,10,228,482.063,363\n\
ID-60,10,228,381.601,275\n\
ID-20,10,228,369.512,290\n\
ID-50,10,228,294.712,253\n\
ID-10,10,228,422.27,351\n\
ID-40,10,228,354.079,272\n\
ID-70,11,228,315.39,271\n\
ID-30,11,228,481.914,359\n\
ID-60,11,228,381.55,273\n\
ID-20,11,228,368.904,294\n\
ID-50,11,228,295.399,252\n\
ID-10,11,228,422.839,348\n\
ID-40,11,228,354.339,286\n\
ID-70,12,228,316.295,268\n\
ID-30,12,228,481.975,357\n\
ID-60,12,228,381.289,273\n\
ID-20,12,228,368.823,289\n\
ID-50,12,228,295.55,251\n\
ID-10,12,228,423.47,360\n\
ID-40,12,228,354.748,281\n\
ID-70,13,228,316.013,268\n\
ID-30,13,228,477.996,358\n\
ID-60,13,228,379.946,281\n\
ID-20,13,228,369.442,302\n\
ID-50,13,228,294.947,256\n\
ID-10,13,228,423.007,341\n\
ID-40,13,228,354.83,283\n\
ID-70,14,228,315.93,269\n\
ID-30,14,228,479.509,354\n\
ID-60,14,228,380.808,276\n\
ID-20,14,228,368.465,297\n\
ID-50,14,228,294.89,253\n\
ID-10,14,228,420.907,356\n\
ID-40,14,228,354.172,284\n\
ID-70,15,228,315.943,275\n\
ID-30,15,228,479.246,348\n\
ID-60,15,228,380.041,267\n\
ID-20,15,228,368.931,296\n\
ID-50,15,228,294.585,255\n\
ID-10,15,228,420.977,343\n\
ID-40,15,228,353.817,289\n\
ID-70,16,228,315.057,276\n\
ID-30,16,228,477.845,364\n\
ID-60,16,228,380.625,266\n\
ID-20,16,228,368.035,295\n\
ID-50,16,228,294.523,258\n\
ID-10,16,228,419.836,342\n\
ID-40,16,228,353.742,281\n\
ID-70,17,228,317.359,275\n\
ID-30,17,228,479.058,356\n\
ID-60,17,228,379.687,274\n\
ID-20,17,228,367.826,284\n\
ID-50,17,228,294.367,249\n\
ID-10,17,228,420.947,337\n\
ID-40,17,228,354.661,275\n\
ID-70,18,227,315.447,269\n\
ID-30,18,227,477.01,345\n\
ID-60,18,227,379.658,273\n\
ID-20,18,227,368.044,310\n\
ID-50,18,227,294.221,249\n\
ID-10,18,227,421.819,351\n\
ID-40,18,227,353.536,284\n\
ID-70,19,227,314.827,266\n\
ID-30,19,227,478.446,348\n\
ID-60,19,227,378.055,261\n\
ID-20,19,227,366.808,283\n\
ID-50,19,227,293.87,255\n\
ID-10,19,227,421.096,350\n\
ID-40,19,227,354.311,284\n\
ID-70,20,228,315.279,273\n\
ID-30,20,228,475.814,335\n\
ID-60,20,228,379.839,282\n\
ID-20,20,228,366.893,287\n\
ID-50,20,228,294.083,253\n\
ID-10,20,228,418.892,329\n\
ID-40,20,228,352.869,282\n\
ID-70,21,227,315.615,271\n\
ID-30,21,227,473.715,348\n\
ID-60,21,227,377.405,262\n\
ID-20,21,227,365.152,291\n\
ID-50,21,227,293.146,252\n\
ID-10,21,227,418.79,343\n\
ID-40,21,227,352.3,297\n\
ID-70,22,228,315.956,276\n\
ID-30,22,228,476.461,356\n\
ID-60,22,228,377.647,274\n\
ID-20,22,228,367.089,288\n\
ID-50,22,228,293.49,244\n\
ID-10,22,228,418.689,352\n\
ID-40,22,228,352.38,287\n\
ID-70,23,227,315.204,275\n\
ID-30,23,227,478.11,348\n\
ID-60,23,227,379.498,267\n\
ID-20,23,227,366.699,295\n\
ID-50,23,227,294.33,252\n\
ID-10,23,227,420.159,341\n\
ID-40,23,227,352.614,279\n\
ID-70,24,227,315.336,262\n\
ID-30,24,227,475.206,349\n\
ID-60,24,227,379.635,274\n\
ID-20,24,227,367.64,294\n\
ID-50,24,227,293.168,254\n\
ID-10,24,227,420.015,342\n\
ID-40,24,227,353.176,275\n\
ID-70,25,227,314.894,277\n\
ID-30,25,227,475.63,365\n\
ID-60,25,227,378.8,272\n\
ID-20,25,227,367.481,290\n\
ID-50,25,227,293.564,249\n\
ID-10,25,227,419.178,354\n\
ID-40,25,227,353.06,289\n\
ID-70,26,227,313.886,269\n\
ID-30,26,227,474.501,340\n\
ID-60,26,227,378.003,274\n\
ID-20,26,227,366.461,298\n\
ID-50,26,227,293.322,249\n\
ID-10,26,227,418.709,345\n\
ID-40,26,227,352.042,281\n\
ID-70,27,227,315.773,269\n\
ID-30,27,227,474.974,342\n\
ID-60,27,227,378.547,269\n\
ID-20,27,227,365.43,284\n\
ID-50,27,227,293.303,248\n\
ID-10,27,227,419.203,345\n\
ID-40,27,227,352.544,273\n\
ID-70,28,227,314.677,276\n\
ID-30,28,227,475.05,358\n\
ID-60,28,227,376.405,276\n\
ID-20,28,227,366.772,297\n\
ID-50,28,227,293.13,254\n\
ID-10,28,227,419.674,347\n\
ID-40,28,227,353.054,278\n\
ID-70,29,227,315.775,270\n\
ID-30,29,227,473.835,356\n\
ID-60,29,227,377.777,268\n\
ID-20,29,227,366.173,292\n\
ID-50,29,227,293.398,257\n\
ID-10,29,227,418.229,352\n\
ID-40,29,227,353.32,283\n\
ID-70,30,227,315.473,272\n\
ID-30,30,227,475.022,353\n\
ID-60,30,227,377.054,270\n\
ID-20,30,227,365.263,293\n\
ID-50,30,227,293.904,251\n\
ID-10,30,227,417.482,340\n\
ID-40,30,227,353.886,291\n\
ID-70,31,227,314.142,268\n\
ID-30,31,227,474.251,343\n\
ID-60,31,227,377.913,273\n\
ID-20,31,227,365.19,286\n\
ID-50,31,227,293.519,250\n\
ID-10,31,227,417.882,351\n\
ID-40,31,227,352.421,284\n\
ID-70,32,227,313.724,271\n\
ID-30,32,227,476.032,359\n\
ID-60,32,227,378.22,274\n\
ID-20,32,227,365.637,295\n\
ID-50,32,227,292.583,254\n\
ID-10,32,227,417.826,347\n\
ID-40,32,227,352.916,281\n\
ID-70,33,227,314.612,279\n\
ID-30,33,227,472.526,363\n\
ID-60,33,227,377.978,275\n\
ID-20,33,227,365.499,294\n\
ID-50,33,227,293.278,250\n\
ID-10,33,227,419.14,342\n\
ID-40,33,227,351.594,282\n\
ID-70,34,227,316.806,269\n\
ID-30,34,227,474.798,355\n\
ID-60,34,227,376.449,276\n\
ID-20,34,227,365.577,292\n\
ID-50,34,227,293.69,236\n\
ID-10,34,227,418.58,344\n\
ID-40,34,227,353.426,282\n\
ID-70,35,227,315.264,269\n\
ID-30,35,227,473.079,353\n\
ID-60,35,227,378.191,277\n\
ID-20,35,227,365.601,305\n\
ID-50,35,227,293.025,249\n\
ID-10,35,227,417.93,339\n\
ID-40,35,227,352.105,283\n\
ID-70,36,227,314.473,269\n\
ID-30,36,227,473.273,358\n\
ID-60,36,227,377.692,280\n\
ID-20,36,227,365.418,292\n\
ID-50,36,227,293.032,254\n\
ID-10,36,227,417.851,352\n\
ID-40,36,227,353.515,279\n\
ID-70,37,227,313.134,266\n\
ID-30,37,227,474.987,351\n\
ID-60,37,227,378.227,275\n\
ID-20,37,227,364.013,282\n\
ID-50,37,227,293.272,251\n\
ID-10,37,227,418.264,343\n\
ID-40,37,227,352.261,291\n\
ID-70,38,227,313.266,275\n\
ID-30,38,227,473.98,353\n\
ID-60,38,227,377.945,262\n\
ID-20,38,227,365.292,291\n\
ID-50,38,227,292.528,251\n\
ID-10,38,227,418.32,352\n\
ID-40,38,227,351.693,281\n\
ID-70,39,227,313.258,271\n\
ID-30,39,227,474.067,357\n\
ID-60,39,227,378.203,283\n\
ID-20,39,227,364.721,290\n\
ID-50,39,227,293.224,250\n\
ID-10,39,227,418.761,347\n\
ID-40,39,227,351.721,277\n\
ID-70,40,227,313.098,265\n\
ID-30,40,227,474.216,364\n\
ID-60,40,227,379.269,267\n\
ID-20,40,227,364.893,290\n\
ID-50,40,227,292.914,249\n\
ID-10,40,227,419.469,358\n\
ID-40,40,227,351.175,284\n\
ID-70,41,227,313.69,272\n\
ID-30,41,227,473.323,354\n\
ID-60,41,227,376.405,277\n\
ID-20,41,227,366.168,281\n\
ID-50,41,227,293.262,251\n\
ID-10,41,227,419.809,349\n\
ID-40,41,227,351.587,280\n\
ID-70,42,227,312.76,277\n\
ID-30,42,227,475.212,359\n\
ID-60,42,227,377.381,275\n\
ID-20,42,227,366.306,304\n\
ID-50,42,227,293.367,254\n\
ID-10,42,227,418.291,343\n\
ID-40,42,227,351.777,285\n\
ID-70,43,227,313.274,274\n\
ID-30,43,227,473.55,350\n\
ID-60,43,227,378.347,278\n\
ID-20,43,227,365.004,291\n\
ID-50,43,227,292.541,253\n\
ID-10,43,227,419.428,356\n\
ID-40,43,227,350.834,283\n\
ID-70,44,227,311.889,269\n\
ID-30,44,227,474.189,360\n\
ID-60,44,227,377.279,277\n\
ID-20,44,227,364.374,290\n\
ID-50,44,227,292.5,252\n\
ID-10,44,227,417.082,347\n\
ID-40,44,227,352.326,278\n\
ID-70,45,227,313.132,269\n\
ID-30,45,227,474.762,352\n\
ID-60,45,227,377.289,283\n\
ID-20,45,227,365.592,282\n\
ID-50,45,227,292.883,255\n\
ID-10,45,227,417.434,346\n\
ID-40,45,227,352.419,281\n\
ID-70,46,227,313.641,274\n\
ID-30,46,227,475.269,350\n\
ID-60,46,227,377.449,265\n\
ID-20,46,227,365.844,296\n\
ID-50,46,227,292.975,247\n\
ID-10,46,227,417.676,347\n\
ID-40,46,227,352.563,270\n\
ID-70,47,227,313.891,270\n\
ID-30,47,227,474.494,364\n\
ID-60,47,227,375.92,282\n\
ID-20,47,227,365.823,290\n\
ID-50,47,227,292.091,249\n\
ID-10,47,227,417.528,349\n\
ID-40,47,227,352.606,276\n\
ID-70,48,227,315.059,271\n\
ID-30,48,227,476.07,360\n\
ID-60,48,227,377.185,280\n\
ID-20,48,227,364.861,286\n\
ID-50,48,227,293.306,253\n\
ID-10,48,227,418.815,325\n\
ID-40,48,227,351.665,282\n\
ID-70,49,227,314.049,261\n\
ID-30,49,227,476.37,372\n\
ID-60,49,227,376.339,281\n\
ID-20,49,227,366.026,282\n\
ID-50,49,227,292.33,254\n\
ID-10,49,227,418.454,350\n\
ID-40,49,227,352.854,281\n\
ID-70,50,227,314.574,271\n\
ID-30,50,227,476.113,358\n\
ID-60,50,227,376.44,268\n\
ID-20,50,227,365.757,282\n\
ID-50,50,227,292.88,253\n\
ID-10,50,227,418.236,350\n\
ID-40,50,227,351.968,290\n\
ID-70,51,227,313.54,273\n\
ID-30,51,227,475.62,355\n\
ID-60,51,227,376.612,278\n\
ID-20,51,227,365.982,297\n\
ID-50,51,227,292.602,251\n\
ID-10,51,227,419.426,334\n\
ID-40,51,227,352.028,281\n\
ID-70,52,227,315.336,273\n\
ID-30,52,227,474.953,345\n\
ID-60,52,227,378.43,282\n\
ID-20,52,227,365.099,289\n\
ID-50,52,227,293.706,249\n\
ID-10,52,227,419.565,351\n\
ID-40,52,227,351.865,284\n\
ID-70,53,227,314.016,265\n\
ID-30,53,227,475.936,356\n\
ID-60,53,227,378.036,264\n\
ID-20,53,227,364.917,285\n\
ID-50,53,227,293.007,252\n\
ID-10,53,227,417.799,339\n\
ID-40,53,227,351.14,284\n\
ID-70,54,227,312.951,271\n\
ID-30,54,227,473.031,348\n\
ID-60,54,227,376.65,259\n\
ID-20,54,227,365.313,293\n\
ID-50,54,227,292.98,249\n\
ID-10,54,227,418.364,348\n\
ID-40,54,227,351.201,290\n\
ID-70,55,227,311.997,267\n\
ID-30,55,227,472.333,342\n\
ID-60,55,227,376.551,270\n\
ID-20,55,227,363.77,297\n\
ID-50,55,227,292.339,246\n\
ID-10,55,227,415.384,339\n\
ID-40,55,227,350.79,283\n\
ID-70,56,227,313.845,271\n\
ID-30,56,227,475.651,358\n\
ID-60,56,227,376.379,276\n\
ID-20,56,227,366.405,298\n\
ID-50,56,227,293.254,251\n\
ID-10,56,227,417.152,344\n\
ID-40,56,227,352.16,274\n\
ID-70,57,227,312.403,271\n\
ID-30,57,227,472.62,357\n\
ID-60,57,227,377.842,281\n\
ID-20,57,227,366.398,288\n\
ID-50,57,227,292.716,250\n\
ID-10,57,227,417.994,349\n\
ID-40,57,227,351.197,282\n\
ID-70,58,227,311.809,270\n\
ID-30,58,227,474.588,355\n\
ID-60,58,227,378.327,271\n\
ID-20,58,227,365.339,296\n\
ID-50,58,227,292.864,250\n\
ID-10,58,227,418.707,355\n\
ID-40,58,227,350.279,286\n\
ID-70,59,227,313.811,262\n\
ID-30,59,227,473.652,354\n\
ID-60,59,227,377.427,270\n\
ID-20,59,227,365.475,303\n\
ID-50,59,227,292.971,248\n\
ID-10,59,227,418.177,340\n\
ID-40,59,227,350.76,273\n\
ID-70,60,227,313.357,260\n\
ID-30,60,227,475.135,354\n\
ID-60,60,227,376.428,266\n\
ID-20,60,227,365.205,294\n\
ID-50,60,227,291.696,255\n\
ID-10,60,227,418.663,349\n\
ID-40,60,227,350.215,281\n\
ID-70,61,227,314.078,270\n\
ID-30,61,227,474.811,350\n\
ID-60,61,227,378.001,280\n\
ID-20,61,227,365.475,300\n\
ID-50,61,227,291.968,248\n\
ID-10,61,227,417.498,337\n\
ID-40,61,227,350.298,288\n\
ID-70,62,227,312.274,268\n\
ID-30,62,227,472.887,342\n\
ID-60,62,227,377.048,274\n\
ID-20,62,227,365.89,285\n\
ID-50,62,227,292.12,250\n\
ID-10,62,227,417.615,328\n\
ID-40,62,227,350.546,275\n\
ID-70,63,227,312.767,264\n\
ID-30,63,227,474.827,359\n\
ID-60,63,227,377.731,271\n\
ID-20,63,227,365.124,303\n\
ID-50,63,227,293.013,250\n\
ID-10,63,227,419.593,354\n\
ID-40,63,227,349.911,286\n\
ID-70,64,227,312.16,264\n\
ID-30,64,227,472.648,333\n\
ID-60,64,227,376.929,266\n\
ID-20,64,227,365.851,280\n\
ID-50,64,227,292.405,248\n\
ID-10,64,227,417.895,359\n\
ID-40,64,227,349.798,280\n\
ID-70,65,227,312.499,269\n\
ID-30,65,227,474.118,351\n\
ID-60,65,227,376.768,271\n\
ID-20,65,227,365.404,288\n\
ID-50,65,227,292.618,243\n\
ID-10,65,227,419.089,355\n\
ID-40,65,227,350.268,288\n\
ID-70,66,227,312.297,261\n\
ID-30,66,227,474.13,349\n\
ID-60,66,227,376.832,278\n\
ID-20,66,227,364.516,294\n\
ID-50,66,227,293.038,251\n\
ID-10,66,227,417.467,347\n\
ID-40,66,227,350.779,277\n\
ID-70,67,227,312.504,273\n\
ID-30,67,227,474.741,343\n\
ID-60,67,227,376.179,281\n\
ID-20,67,227,365.985,298\n\
ID-50,67,227,293.132,246\n\
ID-10,67,227,419.658,335\n\
ID-40,67,227,350.342,274\n\
ID-70,68,227,313.114,267\n\
ID-30,68,227,473.732,353\n\
ID-60,68,227,377.003,272\n\
ID-20,68,227,365.871,293\n\
ID-50,68,227,292.715,253\n\
ID-10,68,227,419.01,348\n\
ID-40,68,227,351.392,268\n\
ID-70,69,227,313.7,271\n\
ID-30,69,227,473.373,342\n\
ID-60,69,227,375.514,263\n\
ID-20,69,227,364.635,293\n\
ID-50,69,227,293.351,246\n\
ID-10,69,227,418.228,350\n\
ID-40,69,227,350.447,280\n\
ID-70,70,227,313.31,265\n\
ID-30,70,227,472.993,341\n\
ID-60,70,227,376.718,269\n\
ID-20,70,227,365.332,294\n\
ID-50,70,227,292.598,253\n\
ID-10,70,227,419.905,351\n\
ID-40,70,227,350.294,284\n\
ID-70,71,227,312.786,272\n\
ID-30,71,227,472.306,339\n\
ID-60,71,227,376.524,273\n\
ID-20,71,227,365.067,290\n\
ID-50,71,227,292.251,251\n\
ID-10,71,227,417.788,354\n\
ID-40,71,227,350.614,286\n\
ID-70,72,227,312.726,271\n\
ID-30,72,227,473.408,349\n\
ID-60,72,227,376.039,285\n\
ID-20,72,227,365.325,296\n\
ID-50,72,227,293.398,250\n\
ID-10,72,227,417.523,354\n\
ID-40,72,227,350.24,281\n\
ID-70,73,227,313.129,273\n\
ID-30,73,227,473.646,339\n\
ID-60,73,227,377.375,278\n\
ID-20,73,227,364.863,299\n\
ID-50,73,227,292.461,256\n\
ID-10,73,227,418.019,342\n\
ID-40,73,227,350.079,275\n\
ID-70,74,227,313.127,268\n\
ID-30,74,227,473.183,355\n\
ID-60,74,227,378.181,277\n\
ID-20,74,227,365.636,294\n\
ID-50,74,227,291.607,251\n\
ID-10,74,227,417.375,346\n\
ID-40,74,227,349.362,278\n\
ID-70,75,227,313.062,263\n\
ID-30,75,227,471.98,333\n\
ID-60,75,227,377.158,278\n\
ID-20,75,227,364.592,303\n\
ID-50,75,227,292.088,250\n\
ID-10,75,227,418.105,334\n\
ID-40,75,227,350.167,282\n\
ID-70,76,227,312.941,265\n\
ID-30,76,227,472.904,355\n\
ID-60,76,227,378.903,274\n\
ID-20,76,227,364.594,300\n\
ID-50,76,227,292.088,251\n\
ID-10,76,227,416.845,344\n\
ID-40,76,227,349.349,288\n\
ID-70,77,227,311.899,268\n\
ID-30,77,227,473.491,356\n\
ID-60,77,227,377.158,267\n\
ID-20,77,227,364.269,290\n\
ID-50,77,227,292.259,251\n\
ID-10,77,227,417.425,346\n\
ID-40,77,227,351.256,286\n\
ID-70,78,227,311.134,269\n\
ID-30,78,227,472.344,368\n\
ID-60,78,227,377.038,274\n\
ID-20,78,227,364.415,285\n\
ID-50,78,227,292.212,251\n\
ID-10,78,227,417.112,350\n\
ID-40,78,227,350.098,280\n\
ID-70,79,227,311.282,272\n\
ID-30,79,227,474.007,367\n\
ID-60,79,227,377.889,282\n\
ID-20,79,227,365.327,298\n\
ID-50,79,227,293.661,245\n\
ID-10,79,227,417.971,340\n\
ID-40,79,227,351.381,277\n\
ID-70,80,227,312.811,267\n\
ID-30,80,227,470.994,351\n\
ID-60,80,227,375.495,272\n\
ID-20,80,227,365.645,296\n\
ID-50,80,227,292.848,251\n\
ID-10,80,227,417.781,349\n\
ID-40,80,227,350.632,285\n\
ID-70,81,227,312.165,270\n\
ID-30,81,227,474.029,347\n\
ID-60,81,227,376.556,282\n\
ID-20,81,227,364.652,301\n\
ID-50,81,227,292.539,254\n\
ID-10,81,227,418.019,350\n\
ID-40,81,227,351.082,278\n\
ID-70,82,227,313.008,273\n\
ID-30,82,227,474.798,339\n\
ID-60,82,227,375.153,266\n\
ID-20,82,227,365.203,292\n\
ID-50,82,227,292.053,250\n\
ID-10,82,227,416.432,345\n\
ID-40,82,227,350.948,289\n\
ID-70,83,227,311.992,269\n\
ID-30,83,227,473.589,354\n\
ID-60,83,227,376.551,274\n\
ID-20,83,227,364.463,298\n\
ID-50,83,227,292.845,250\n\
ID-10,83,227,416.565,332\n\
ID-40,83,227,351.627,290\n\
ID-70,84,227,312.191,273\n\
ID-30,84,227,473.077,354\n\
ID-60,84,227,376.663,279\n\
ID-20,84,227,364.405,291\n\
ID-50,84,227,292.167,250\n\
ID-10,84,227,418.182,312\n\
ID-40,84,227,350.607,274\n\
ID-70,85,227,312.615,276\n\
ID-30,85,227,474.532,364\n\
ID-60,85,227,376.142,271\n\
ID-20,85,227,365.148,289\n\
ID-50,85,227,292.058,249\n\
ID-10,85,227,416.717,345\n\
ID-40,85,227,350.269,278\n\
ID-70,86,227,313.204,260\n\
ID-30,86,227,473.383,362\n\
ID-60,86,227,376.563,279\n\
ID-20,86,227,364.149,296\n\
ID-50,86,227,292.349,247\n\
ID-10,86,227,416.248,334\n\
ID-40,86,227,351.068,290\n\
ID-70,87,227,312.501,269\n\
ID-30,87,227,473.061,337\n\
ID-60,87,227,377.478,272\n\
ID-20,87,227,364.246,279\n\
ID-50,87,227,292.108,242\n\
ID-10,87,227,416.455,346\n\
ID-40,87,227,350.872,277\n\
ID-70,88,227,312.695,264\n\
ID-30,88,227,472.595,351\n\
ID-60,88,227,376.133,270\n\
ID-20,88,227,364.247,282\n\
ID-50,88,227,292.077,245\n\
ID-10,88,227,416.823,340\n\
ID-40,88,227,350.611,276\n\
ID-70,89,227,311.948,266\n\
ID-30,89,227,473.428,362\n\
ID-60,89,227,376.462,283\n\
ID-20,89,227,363.469,287\n\
ID-50,89,227,292.053,244\n\
ID-10,89,227,420.069,350\n\
ID-40,89,227,350.477,282\n\
ID-70,90,227,312.207,267\n\
ID-30,90,227,473.178,350\n\
ID-60,90,227,377.132,285\n\
ID-20,90,227,364.915,291\n\
ID-50,90,227,291.886,248\n\
ID-10,90,227,417.912,340\n\
ID-40,90,227,350.648,278\n\
ID-70,91,227,312.574,263\n\
ID-30,91,227,473.193,349\n\
ID-60,91,227,376.512,279\n\
ID-20,91,227,363.418,295\n\
ID-50,91,227,292.8,255\n\
ID-10,91,227,417.369,346\n\
ID-40,91,227,350.795,286\n\
ID-70,92,227,311.982,267\n\
ID-30,92,227,471.376,338\n\
ID-60,92,227,377.394,271\n\
ID-20,92,227,362.44,284\n\
ID-50,92,227,292.851,251\n\
ID-10,92,227,417.956,344\n\
ID-40,92,227,349.911,271\n\
ID-70,93,227,311.501,271\n\
ID-30,93,227,473.044,348\n\
ID-60,93,227,376.896,274\n\
ID-20,93,227,365.12,279\n\
ID-50,93,227,292.544,253\n\
ID-10,93,227,417.448,336\n\
ID-40,93,227,349.243,286\n\
ID-70,94,227,312.121,279\n\
ID-30,94,227,473.618,351\n\
ID-60,94,227,376.208,264\n\
ID-20,94,227,364.545,290\n\
ID-50,94,227,291.487,252\n\
ID-10,94,227,417.124,341\n\
ID-40,94,227,349.268,286\n\
ID-70,95,227,310.891,271\n\
ID-30,95,227,471.981,362\n\
ID-60,95,227,377.284,275\n\
ID-20,95,227,363.867,281\n\
ID-50,95,227,292.016,252\n\
ID-10,95,227,418.454,349\n\
ID-40,95,227,350.533,279\n\
ID-70,96,227,311.587,268\n\
ID-30,96,227,473.728,347\n\
ID-60,96,227,376.255,278\n\
ID-20,96,227,364.115,294\n\
ID-50,96,227,291.491,252\n\
ID-10,96,227,418.485,351\n\
ID-40,96,227,349.863,281\n\
ID-70,97,227,311.354,266\n\
ID-30,97,227,472.442,363\n\
ID-60,97,227,376.867,277\n\
ID-20,97,227,364.004,286\n\
ID-50,97,227,291.969,246\n\
ID-10,97,227,417.511,336\n\
ID-40,97,227,349.191,281\n\
ID-70,98,227,312.672,271\n\
ID-30,98,227,473.041,345\n\
ID-60,98,227,376.77,282\n\
ID-20,98,227,364.088,288\n\
ID-50,98,227,291.577,253\n\
ID-10,98,227,419.083,351\n\
ID-40,98,227,350.255,282\n\
ID-70,99,227,311.641,266\n\
ID-30,99,227,473.314,347\n\
ID-60,99,227,376.058,270\n\
ID-20,99,227,364.382,296\n\
ID-50,99,227,290.444,249\n\
ID-10,99,227,418.391,348\n\
ID-40,99,227,350.239,275\n\
ID-70,100,228,311.127,268\n\
ID-30,100,228,473.167,326\n\
ID-60,100,228,375.973,268\n\
ID-20,100,228,364.882,294\n\
ID-50,100,228,291.516,250\n\
ID-10,100,228,417.466,335\n\
ID-40,100,228,350.268,285\n\
ID-70,101,227,311.22,270\n\
ID-30,101,227,474.034,360\n\
ID-60,101,227,376.68,268\n\
ID-20,101,227,364.659,288\n\
ID-50,101,227,291.95,249\n\
ID-10,101,227,417.918,350\n\
ID-40,101,227,350.543,288\n\
ID-70,102,228,311.925,269\n\
ID-30,102,228,473.844,347\n\
ID-60,102,228,376.81,284\n\
ID-20,102,228,365.263,290\n\
ID-50,102,228,291.228,258\n\
ID-10,102,228,419.139,352\n\
ID-40,102,228,349.82,276\n\
ID-70,103,228,312.003,271\n\
ID-30,103,228,474.085,332\n\
ID-60,103,228,377.849,275\n\
ID-20,103,228,365.447,299\n\
ID-50,103,228,292.693,253\n\
ID-10,103,228,418.61,349\n\
ID-40,103,228,351.211,287\n\
ID-70,104,228,311.003,265\n\
ID-30,104,228,472.997,356\n\
ID-60,104,228,374.504,271\n\
ID-20,104,228,363.684,295\n\
ID-50,104,228,291.142,251\n\
ID-10,104,228,418.064,359\n\
ID-40,104,228,350.451,267\n\
ID-70,105,228,311.997,263\n\
ID-30,105,228,474.392,346\n\
ID-60,105,228,376.326,273\n\
ID-20,105,228,364.548,298\n\
ID-50,105,228,292.211,253\n\
ID-10,105,228,417.785,347\n\
ID-40,105,228,350.229,291\n\
ID-70,106,228,310.917,266\n\
ID-30,106,228,472.772,351\n\
ID-60,106,228,374.685,262\n\
ID-20,106,228,364.811,297\n\
ID-50,106,228,292.327,250\n\
ID-10,106,228,416.85,352\n\
ID-40,106,228,350.606,287\n\
ID-70,107,228,312.974,269\n\
ID-30,107,228,475.994,352\n\
ID-60,107,228,375.247,276\n\
ID-20,107,228,365.01,292\n\
ID-50,107,228,292.773,251\n\
ID-10,107,228,417.642,345\n\
ID-40,107,228,350.92,272\n\
ID-70,108,227,310.434,268\n\
ID-30,108,227,474.756,344\n\
ID-60,108,227,374.751,276\n\
ID-20,108,227,366.382,294\n\
ID-50,108,227,291.782,249\n\
ID-10,108,227,418.715,344\n\
ID-40,108,227,351.054,274\n\
ID-70,109,228,311.362,271\n\
ID-30,109,228,475.349,361\n\
ID-60,109,228,375.243,266\n\
ID-20,109,228,365.7,282\n\
ID-50,109,228,291.183,251\n\
ID-10,109,228,419.47,345\n\
ID-40,109,228,350.53,273\n\
ID-70,110,228,311.571,266\n\
ID-30,110,228,474.344,342\n\
ID-60,110,228,374.742,278\n\
ID-20,110,228,366.962,302\n\
ID-50,110,228,291.751,252\n\
ID-10,110,228,418.377,347\n\
ID-40,110,228,350.9,289\n\
ID-70,111,228,311.636,271\n\
ID-30,111,228,474.819,352\n\
ID-60,111,228,375.614,279\n\
ID-20,111,228,365.262,300\n\
ID-50,111,228,292.137,248\n\
ID-10,111,228,418.238,353\n\
ID-40,111,228,350.45,284\n\
ID-70,112,228,311.098,266\n\
ID-30,112,228,475.038,361\n\
ID-60,112,228,376.661,278\n\
ID-20,112,228,366.126,292\n\
ID-50,112,228,291.618,249\n\
ID-10,112,228,417.559,350\n\
ID-40,112,228,350.677,283\n\
ID-70,113,228,311.501,271\n\
ID-30,113,228,472.265,356\n\
ID-60,113,228,376.389,279\n\
ID-20,113,228,366.415,302\n\
ID-50,113,228,292.237,250\n\
ID-10,113,228,418.674,340\n\
ID-40,113,228,351.261,274\n\
ID-70,114,228,310.468,266\n\
ID-30,114,228,473.175,334\n\
ID-60,114,228,376.611,273\n\
ID-20,114,228,366.285,290\n\
ID-50,114,228,291.367,249\n\
ID-10,114,228,420.136,349\n\
ID-40,114,228,349.249,270\n\
ID-70,115,228,310.762,264\n\
ID-30,115,228,476.662,358\n\
ID-60,115,228,377.017,267\n\
ID-20,115,228,366.459,295\n\
ID-50,115,228,292.104,248\n\
ID-10,115,228,418.299,353\n\
ID-40,115,228,349.969,288\n\
ID-70,116,228,310.809,269\n\
ID-30,116,228,474.592,361\n\
ID-60,116,228,375.818,279\n\
ID-20,116,228,367.485,284\n\
ID-50,116,228,292.072,251\n\
ID-10,116,228,419.022,352\n\
ID-40,116,228,350.166,287\n\
ID-70,117,228,311.041,275\n\
ID-30,117,228,473.715,349\n\
ID-60,117,228,377.692,262\n\
ID-20,117,228,368.272,295\n\
ID-50,117,228,291.936,248\n\
ID-10,117,228,417.474,348\n\
ID-40,117,228,349.815,278\n\
ID-70,118,228,311.003,274\n\
ID-30,118,228,474.468,352\n\
ID-60,118,228,377.848,275\n\
ID-20,118,228,368.082,297\n\
ID-50,118,228,292.389,251\n\
ID-10,118,228,418.858,335\n\
ID-40,118,228,350.083,284\n\
ID-70,119,228,310.716,266\n\
ID-30,119,228,473.363,355\n\
ID-60,119,228,376.933,269\n\
ID-20,119,228,367.788,290\n\
ID-50,119,228,292.079,249\n\
ID-10,119,228,419.08,347\n\
ID-40,119,228,351.569,283\n\
ID-70,120,226,308.979,264\n\
ID-30,120,226,472.658,351\n\
ID-60,120,226,375.822,272\n\
ID-20,120,226,366.281,291\n\
ID-50,120,226,290.58,253\n\
ID-10,120,226,418.253,333\n\
ID-40,120,226,348.87,271\n\
ID-70,121,228,311.072,267\n\
ID-30,121,228,475.67,342\n\
ID-60,121,228,375.385,278\n\
ID-20,121,228,366.83,301\n\
ID-50,121,228,291.523,249\n\
ID-10,121,228,418.768,344\n\
ID-40,121,228,350.824,290\n\
ID-70,122,228,311.041,263\n\
ID-30,122,228,475.054,356\n\
ID-60,122,228,375.517,286\n\
ID-20,122,228,366.661,300\n\
ID-50,122,228,292.617,251\n\
ID-10,122,228,419.255,352\n\
ID-40,122,228,351.632,289\n\
ID-70,123,228,311.034,269\n\
ID-30,123,228,475.475,351\n\
ID-60,123,228,376.902,271\n\
ID-20,123,228,367.808,290\n\
ID-50,123,228,291.332,249\n\
ID-10,123,228,417.958,347\n\
ID-40,123,228,350.971,277\n\
ID-70,124,228,311.395,270\n\
ID-30,124,228,476.218,357\n\
ID-60,124,228,376.019,276\n\
ID-20,124,228,368.409,293\n\
ID-50,124,228,291.94,254\n\
ID-10,124,228,418.707,352\n\
ID-40,124,228,351.702,278\n\
ID-70,125,228,309.982,257\n\
ID-30,125,228,476.11,331\n\
ID-60,125,228,374.841,268\n\
ID-20,125,228,367.455,308\n\
ID-50,125,228,292.38,250\n\
ID-10,125,228,418.785,344\n\
ID-40,125,228,352.229,273\n\
ID-70,126,228,310.176,272\n\
ID-30,126,228,476.949,354\n\
ID-60,126,228,375.504,280\n\
ID-20,126,228,367.896,304\n\
ID-50,126,228,292.056,249\n\
ID-10,126,228,418.565,354\n\
ID-40,126,228,350.936,275\n\
ID-70,127,228,311.065,272\n\
ID-30,127,228,474.532,356\n\
ID-60,127,228,376.087,277\n\
ID-20,127,228,369.117,304\n\
ID-50,127,228,291.442,254\n\
ID-10,127,228,418.305,343\n\
ID-40,127,228,350.15,280\n\
ID-70,128,228,310.543,274\n\
ID-30,128,228,472.902,335\n\
ID-60,128,228,376.67,271\n\
ID-20,128,228,367.615,294\n\
ID-50,128,228,291.208,251\n\
ID-10,128,228,420.298,345\n\
ID-40,128,228,350.103,277\n\
ID-70,129,228,309.899,269\n\
ID-30,129,228,473.3,349\n\
ID-60,129,228,376.068,267\n\
ID-20,129,228,368.702,296\n\
ID-50,129,228,291.406,252\n\
ID-10,129,228,418.778,350\n\
ID-40,129,228,350.262,280\n\
ID-70,130,228,310.222,268\n\
ID-30,130,228,474.327,361\n\
ID-60,130,228,376.874,281\n\
ID-20,130,228,367.7,296\n\
ID-50,130,228,291.289,253\n\
ID-10,130,228,418.012,350\n\
ID-40,130,228,350.555,289\n\
ID-70,131,228,311.194,270\n\
ID-30,131,228,474.946,350\n\
ID-60,131,228,375.787,275\n\
ID-20,131,228,367.895,295\n\
ID-50,131,228,291.317,247\n\
ID-10,131,228,420.082,358\n\
ID-40,131,228,350.817,281\n\
ID-70,132,228,310.072,268\n\
ID-30,132,228,474.798,365\n\
ID-60,132,228,376.263,274\n\
ID-20,132,228,369.013,294\n\
ID-50,132,228,291.738,254\n\
ID-10,132,228,420.188,348\n\
ID-40,132,228,351.1,287\n\
ID-70,133,228,310.78,255\n\
ID-30,133,228,473.471,349\n\
ID-60,133,228,376.744,279\n\
ID-20,133,228,367.563,289\n\
ID-50,133,228,290.963,249\n\
ID-10,133,228,418.361,342\n\
ID-40,133,228,350.699,285\n\
ID-70,134,228,310.512,267\n\
ID-30,134,228,473.566,359\n\
ID-60,134,228,376.805,276\n\
ID-20,134,228,366.689,294\n\
ID-50,134,228,291.481,254\n\
ID-10,134,228,417.381,356\n\
ID-40,134,228,349.473,278\n\
ID-70,135,228,309.253,262\n\
ID-30,135,228,473.004,340\n\
ID-60,135,228,376.779,277\n\
ID-20,135,228,366.118,273\n\
ID-50,135,228,291.57,254\n\
ID-10,135,228,418.01,362\n\
ID-40,135,228,350.527,275\n\
ID-70,136,228,309.419,269\n\
ID-30,136,228,471.254,353\n\
ID-60,136,228,376.285,260\n\
ID-20,136,228,366.737,299\n\
ID-50,136,228,292.13,252\n\
ID-10,136,228,418.432,338\n\
ID-40,136,228,350.63,277\n\
ID-70,137,228,310.395,271\n\
ID-30,137,228,473.418,337\n\
ID-60,137,228,375.835,284\n\
ID-20,137,228,367.735,292\n\
ID-50,137,228,290.484,252\n\
ID-10,137,228,418.542,351\n\
ID-40,137,228,350.656,285\n\
ID-70,138,228,309.274,263\n\
ID-30,138,228,472.858,345\n\
ID-60,138,228,376.088,269\n\
ID-20,138,228,367.159,292\n\
ID-50,138,228,291.256,252\n\
ID-10,138,228,419.155,358\n\
ID-40,138,228,350.119,285\n\
ID-70,139,228,309.284,266\n\
ID-30,139,228,474.937,366\n\
ID-60,139,228,375.165,260\n\
ID-20,139,228,368.706,289\n\
ID-50,139,228,292.152,251\n\
ID-10,139,228,418.707,347\n\
ID-40,139,228,351.459,285\n\
ID-70,140,228,310.835,270\n\
ID-30,140,228,476.199,351\n\
ID-60,140,228,374.77,269\n\
ID-20,140,228,368.674,306\n\
ID-50,140,228,291.363,252\n\
ID-10,140,228,419.915,332\n\
ID-40,140,228,350.949,288\n\
ID-70,141,228,310.238,272\n\
ID-30,141,228,474.893,354\n\
ID-60,141,228,376.977,283\n\
ID-20,141,228,367.845,298\n\
ID-50,141,228,291.629,254\n\
ID-10,141,228,418.076,343\n\
ID-40,141,228,350.754,292\n\
ID-70,142,228,310.791,268\n\
ID-30,142,228,476.798,333\n\
ID-60,142,228,374.569,275\n\
ID-20,142,228,366.673,287\n\
ID-50,142,228,291.788,252\n\
ID-10,142,228,418.753,348\n\
ID-40,142,228,350.876,280\n\
ID-70,143,228,310.553,270\n\
ID-30,143,228,473.842,349\n\
ID-60,143,228,377.661,272\n\
ID-20,143,228,367.145,290\n\
ID-50,143,228,291.576,252\n\
ID-10,143,228,419.166,338\n\
ID-40,143,228,351.974,281\n\
ID-70,144,228,310.481,269\n\
ID-30,144,228,476.463,352\n\
ID-60,144,228,376.876,276\n\
ID-20,144,228,367.673,296\n\
ID-50,144,228,292.013,252\n\
ID-10,144,228,418.41,344\n\
ID-40,144,228,351.291,270\n\
ID-70,145,228,311.09,269\n\
ID-30,145,228,475.051,358\n\
ID-60,145,228,375.802,267\n\
ID-20,145,228,366.661,286\n\
ID-50,145,228,290.899,253\n\
ID-10,145,228,418.693,340\n\
ID-40,145,228,350.013,280\n\
ID-70,146,228,310.731,276\n\
ID-30,146,228,475.598,354\n\
ID-60,146,228,375.964,261\n\
ID-20,146,228,366.377,300\n\
ID-50,146,228,291.516,245\n\
ID-10,146,228,418.526,349\n\
ID-40,146,228,351.326,281\n\
ID-70,147,228,311.649,273\n\
ID-30,147,228,475.879,335\n\
ID-60,147,228,376.76,269\n\
ID-20,147,228,367.484,288\n\
ID-50,147,228,291.961,252\n\
ID-10,147,228,417.492,355\n\
ID-40,147,228,352.45,285\n\
ID-70,148,228,310.755,260\n\
ID-30,148,228,475.734,357\n\
ID-60,148,228,377.152,275\n\
ID-20,148,228,366.515,298\n\
ID-50,148,228,292.219,251\n\
ID-10,148,228,419.174,345\n\
ID-40,148,228,350.884,280\n\
ID-70,149,228,310.062,275\n\
ID-30,149,228,475.592,342\n\
ID-60,149,228,377.405,274\n\
ID-20,149,228,367.558,288\n\
ID-50,149,228,291.902,250\n\
ID-10,149,228,418.72,348\n\
ID-40,149,228,351.594,273\n\
";
//#end data

function row(d) {
    return {
        id: d.id,
        time: +d.time,
//#begin value name
        value: +d.comp_mean,
//#end value name
        value2: +d.bkg_median
    };
}

var dataFlat = d3.csvParse(csv_data, row);

// Sort by time
dataFlat.sort(function (a, b) { return a.time - b.time; });

var data = d3.nest()
    .key(function (d) { return d.id; })
    .entries(dataFlat);

var gw = 1000,
	gh = 800;
var sclf = 0.5;
var roffx = 0.2;
var roffy = 0.67;
var magaxx = 5;
var magaxy = 25;
var opac = 0.6;
var line_type =
	d3.curveMonotoneX;
	//d3.curveLinear;
var margin = { top: 10, right: 10, bottom: 50, left: 120 },
    width = gw - margin.left - margin.right,
    height = gh - margin.top - margin.bottom;
var num = data.length;
var x = function (d) { return d.time; };
var y = function (d) { return d.value; };
var y2 = function (d) { return d.value2; };
var extx = d3.extent(dataFlat, x);
var maxbkg = d3.max(dataFlat, y2);


data.map(function (d) {
    d.values.map(function (d) {
        d.value = (d.value - maxbkg) / maxbkg;
    })
    return d;
})
var exty = d3.extent(dataFlat, y);
var exty2 = exty[1] - exty[0];
var offsetx = width * roffx / num;
var offsety = height * roffy / num;
var scaley = height * roffy * sclf / exty2;
data.map(function (d) {
    d.values.map(function (d) {
        d.value -= exty[0];
    })
    return d;
})

// Sort by peak
function peakTime(d) {
    var i = d3.scan(d.values, function (a, b) { return y(b) - y(a); });
    return d.values[i].value;
};
data.sort(function (a, b) { return peakTime(b) - peakTime(a); });

var xScale = d3.scaleLinear().domain(extx).range([0, width]),
    xValue = function(d) { return xScale(x(d)); },
    xAxis = d3.axisBottom(xScale).tickFormat(d3.format("d"));

var areaChartHeight = exty2 * scaley;
var yScale = d3.scaleLinear(),
    yValue = function(d) {
    	 return yScale(y(d));
    };
yScale
    .domain([0, exty2])
    .range([areaChartHeight, 0]);
var area = d3.area()
	.curve(line_type)
    .x(xValue)
    .y0(height - magaxx)
    .y1(yValue);

var line = area.lineY1();

var id = function(d) { return d.key; },
    idScale = d3.scaleBand().range([0, height - magaxx * 2]),
    idAxis = d3.axisLeft(idScale);

idScale.domain(data.map(function(d) { return d.key; }));

// Percent two area charts can overlap
var svg = d3.select('body').append('svg')
    .attr('width', width + margin.left + margin.right + num * offsetx)
    .attr('height', height + margin.top + margin.bottom)
    .append('g')
    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

svg.append('clipPath')
	.attr('id', 'rect_clip')
	.append('rect')
	.attr('x', 0)
	.attr('y', 0)
	.attr('height', height - magaxx * 2)
	.attr('width', width + margin.left + margin.right + num * offsetx);
let count = 0;
var gChart = svg.append('g').attr('class', 'ids')
	.attr('clip-path', 'url(#rect_clip)')
    .selectAll('.id').data(data)
    .enter().append('g')
    .attr('class', function(d) { return 'id id--' + d.key; })
    .attr('transform', function (d) {
        var tx = offsetx * (num - count - 1),
        	ty = height * roffy - magaxx - offsety * (num - count);
        count++;
        return 'translate(' + tx + ',' + ty + ')';
    });

gChart.append('path').attr('class', 'area')
    .datum(function (d) { return d.values; })
    .attr('d', area)
    .attr('opacity', opac);

gChart.append('path').attr('class', 'line')
    .datum(function(d) { return d.values; })
    .attr('d', line);

count = 0;
svg.append('g').attr('class', 'axis axis--id')
    .call(idAxis)
    .selectAll("text")
    .attr('transform', function (d) {
        var tx = offsetx * (num - count - 1) - magaxy,
        	ty = 0;
        count++;
        return 'translate(' + tx + ',' + ty + ')';
    });

svg.append('g').attr('class', 'axis axis--x')
    .attr('transform', 'translate(0,' + height + ')')
    .call(xAxis);

    </script>
</body>
</html>
